<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        mode="ios"
        color="light"
        defaultHref="home"
      ></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-menu-button color="light" auto-hide="false"></ion-menu-button>
    </ion-buttons>
    <ion-title color="light" lass="main-header4">PROFIL</ion-title>
    <!-- <ion-buttons slot="start">
          <ion-back-button color="orange"></ion-back-button>
      </ion-buttons> -->
    <!-- <ion-title slot="start" class="main-header4">SIGNIN</ion-title> -->
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid fixed class="ion-no-padding">
    <ion-header class="ion-no-border" collapse="condense">
      <ion-toolbar>
        <ion-title color="dark" size="large">PROFIL</ion-title>
      </ion-toolbar>
    </ion-header>

    <!-- <div class="logo-box">
      <img src="https://pbs.twimg.com/profile_images/1148952014036054016/xxv7lLvp.jpg" alt="">
    </div> -->

    <div class="login-form">
      <ion-text color="dark">
        <h2 text-center class="ion-margin-bottom main-header7">
          Détails du profil.
        </h2>
      </ion-text>
      <form [formGroup]="updateForm" novalidate>
        <ion-list class="ion-margin-top ion-padding">
          <!-- ############ -->
          <ion-item class="roundedInput8px margin-bottom-10">
            <ion-label>
              <ion-icon name="person-outline" color="medium"></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              formControlName="firstname"
              [value]="(userDetail | async)?.firstname"
            ></ion-input>
          </ion-item>
          <!-- ############ -->
          <ion-item class="roundedInput8px margin-bottom-10">
            <ion-label>
              <ion-icon name="people-outline" color="medium"></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              formControlName="lastname"
              [value]="(userDetail | async)?.lastname"
            ></ion-input>
          </ion-item>
          <!-- ############ -->
          <ion-item class="roundedInput8px margin-bottom-10">
            <ion-label>
              <ion-icon name="mail-outline" color="medium"></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              formControlName="email"
              [value]="(userDetail | async)?.email"
            ></ion-input>
          </ion-item>

          <!-- ############ -->
          <ion-item class="roundedInput8px margin-bottom-10">
            <ion-label>
              <ion-icon name="call-outline" color="medium"></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              formControlName="phone"
              [value]="(userDetail | async)?.phone"
            ></ion-input>
          </ion-item>

          <ion-item *ngIf="ingeson?.about">
            <ion-label>
              <ion-label position="stacked">About</ion-label>
            </ion-label>
            <ion-textarea
              rows="10"
              formControlName="about"
              [value]="ingeson?.about"
            ></ion-textarea>
          </ion-item>
          <!---Afficher les tarifs fixes par l'utilisateur -->
          <ion-item
            class="roundedInput8px margin-bottom-10"
            *ngFor="let tarifservice of tarifservices"
          >
            <ion-label>
              <ion-label position="stacked"
                >{{tarifservice?.service_name}}</ion-label
              >
            </ion-label>
            <ion-input
              type="text"
              [value]="tarifservice?.tarif"
              (ionInput)="getValue($event, tarifservice?.service_id)"
            ></ion-input>
          </ion-item>
        </ion-list>

        <input
          type="text"
          class="native-input sc-ion-input-ios"
          (keydown.enter)="$event.preventDefault()"
          placeholder="Search Nearest Location"
          autocorrect="off"
          autocapitalize="off"
          spellcheck="off"
          type="text"
          value="{{address}}"
          #search
        />

        <agm-map
          [latitude]="latitude"
          [longitude]="longitude"
          [zoom]="zoom"
          #map
          id="map"
        >
          <agm-marker
            [latitude]="latitude"
            [longitude]="longitude"
            [markerDraggable]="true"
            (dragEnd)="markerDragEnd($event)"
          ></agm-marker>
        </agm-map>

        <!-- <ion-list lines="none">
            <ion-item>
              <ion-icon slot="start" color="lightgray" size="small" name="mail-outline"></ion-icon>
              <ion-input type="text"  formControlName="firstname"  [value]="(userDetail | async)?.firstname"></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon slot="start" color="lightgray" size="small" name="mail-outline"></ion-icon>
                <ion-input type="text"  formControlName="lastname"   [value]="(userDetail | async)?.lastname"></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon slot="start" color="lightgray" size="small" name="mail-outline"></ion-icon>
                <ion-input type="text"  formControlName="email"  [value]="(userDetail | async)?.email"></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon slot="start" color="lightgray" size="small" name="mail-outline"></ion-icon>
              <ion-input type="text" formControlName="phone"   [value]="(userDetail | async)?.phone"></ion-input>
            </ion-item>


        </ion-list> -->

        <!-- Error meassage -->
        <!-- <p color="warning" *ngIf="!updateForm.controls.firstname.valid && updateForm.controls.firstname.touched">
              <ion-icon name="information-circle-outline"></ion-icon> Ce champ doit contenir au moins 3 caractères!
          </p>
          <p color="warning" *ngIf="!updateForm.controls.lastname.valid && updateForm.controls.lastname.touched">
              <ion-icon name="information-circle-outline"></ion-icon> Ce champ doit contenir au moins 3 caractères!
          </p>
          <p color="warning" *ngIf="!updateForm.controls.email.valid && updateForm.controls.email.touched">
            <ion-icon name="information-circle-outline"></ion-icon> Ce champ doit contenir au moins 3 caractères!
          </p>
          <p color="warning" *ngIf="!updateForm.controls.phone.valid && updateForm.controls.phone.touched">
            <ion-icon name="information-circle-outline"></ion-icon> Ce champ doit contenir au moins 3 caractères!
          </p> -->

        <ion-button
          mode="ios"
          color="dark"
          expand="block"
          class="ion-margin-top"
          (click)="updateProfile()"
        >
          Mettre à jour le profil
        </ion-button>
        <!--<ion-button
          mode="ios"
          color="dark"
          fill="outline"
          expand="block"
          class="ion-margin-top"
          (click)="logout()"
        >
          Se déconnecter
        </ion-button>-->
        <ion-text color="dark">
          <h2 class="ion-text-center ion-margin-bottom main-header8">
            En cliquant sur "se déconnecter" vous acceptez les termes et
            conditions suivantes.
          </h2>
        </ion-text>
      </form>
    </div>
  </ion-grid>
</ion-content>
